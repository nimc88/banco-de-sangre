<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bludee - Gesti√≥n de Donantes</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #2563eb 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
      background: linear-gradient(145deg, #ffffff, #f8fafc);
      border-radius: 20px;
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.9);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #dc2626, #ef4444);
      color: white;
      padding: 30px;
      text-align: center;
      position: relative;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      opacity: 0.3;
    }

    .header h1 {
      font-size: 2.2rem;
      margin-bottom: 8px;
      position: relative;
      z-index: 2;
    }

    .header p {
      font-size: 1.1rem;
      opacity: 0.9;
      position: relative;
      z-index: 2;
    }

    .breadcrumb {
      background: #f1f5f9;
      padding: 15px 30px;
      border-bottom: 1px solid #e2e8f0;
    }

    .breadcrumb a {
      color: #1e40af;
      text-decoration: none;
      font-weight: 500;
    }

    .breadcrumb a:hover {
      text-decoration: underline;
    }

    .form-container {
      padding: 40px;
    }

    .back-button {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #e5e7eb;
      border-radius: 50px;
      padding: 12px 20px;
      color: #374151;
      text-decoration: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      z-index: 1000;
    }

    .back-button:hover {
      background: white;
      border-color: #3b82f6;
      color: #1e40af;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .dashboard-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;
      position: relative;
      transition: all 0.3s ease;
      text-align: center;
    }

    .dashboard-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .dashboard-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--card-color);
      border-radius: 12px 12px 0 0;
    }

    .card-total { --card-color: linear-gradient(135deg, #059669, #10b981); }
    .card-active { --card-color: linear-gradient(135deg, #2563eb, #3b82f6); }
    .card-eligible { --card-color: linear-gradient(135deg, #7c3aed, #8b5cf6); }
    .card-appointments { --card-color: linear-gradient(135deg, #ea580c, #f97316); }
    .card-frequent { --card-color: linear-gradient(135deg, #dc2626, #ef4444); }
    .card-new { --card-color: linear-gradient(135deg, #0891b2, #06b6d4); }

    .dashboard-icon {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .dashboard-number {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .dashboard-label {
      font-size: 0.9rem;
      color: #6b7280;
      font-weight: 500;
    }

    .dashboard-total { color: #059669; }
    .dashboard-active { color: #2563eb; }
    .dashboard-eligible { color: #7c3aed; }
    .dashboard-appointments { color: #ea580c; }
    .dashboard-frequent { color: #dc2626; }
    .dashboard-new { color: #0891b2; }

    .quick-actions {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;
      position: relative;
    }

    .quick-actions::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(135deg, #059669, #10b981);
      border-radius: 12px 12px 0 0;
    }

    .section-title {
      font-size: 1.3rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .section-icon {
      font-size: 1.5rem;
    }

    .actions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .action-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 15px 20px;
      border: none;
      border-radius: 12px;
      text-align: center;
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
      font-weight: 600;
    }

    .action-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    .action-btn .icon {
      font-size: 1.5rem;
      margin-bottom: 8px;
      display: block;
    }

    .tabs-container {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;
      margin-bottom: 25px;
    }

    .tabs-nav {
      display: flex;
      background: #f8f9fa;
      border-bottom: 2px solid #e9ecef;
    }

    .tab-btn {
      flex: 1;
      padding: 15px 20px;
      background: none;
      border: none;
      cursor: pointer;
      font-weight: 600;
      color: #6b7280;
      transition: all 0.3s ease;
      border-bottom: 3px solid transparent;
    }

    .tab-btn.active {
      color: #dc2626;
      border-bottom-color: #dc2626;
      background: white;
    }

    .tab-btn:hover {
      color: #dc2626;
      background: #fef2f2;
    }

    .tab-content {
      padding: 30px;
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    label {
      font-weight: 600;
      color: #374151;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    .required {
      color: #dc2626;
    }

    input, select, textarea {
      padding: 12px 16px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: #fafafa;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #3b82f6;
      background: white;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .search-bar {
      position: relative;
      margin-bottom: 20px;
    }

    .search-bar input {
      width: 100%;
      padding-left: 40px;
    }

    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #9ca3af;
      font-size: 16px;
    }

    .donors-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 20px;
    }

    .donor-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;
      position: relative;
      border-left: 4px solid var(--donor-status-color);
    }

    .donor-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .donor-active { --donor-status-color: #10b981; }
    .donor-inactive { --donor-status-color: #6b7280; }
    .donor-deferred { --donor-status-color: #f59e0b; }
    .donor-ineligible { --donor-status-color: #dc2626; }

    .donor-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .donor-name {
      font-size: 1.2rem;
      font-weight: bold;
      color: #1f2937;
      margin-bottom: 5px;
    }

    .donor-id {
      font-size: 0.85rem;
      color: #6b7280;
      font-family: monospace;
    }

    .donor-status {
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    .status-active {
      background: #d1fae5;
      color: #065f46;
    }

    .status-inactive {
      background: #f3f4f6;
      color: #374151;
    }

    .status-deferred {
      background: #fef3c7;
      color: #92400e;
    }

    .status-ineligible {
      background: #fee2e2;
      color: #991b1b;
    }

    .donor-info {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 15px;
    }

    .info-item {
      display: flex;
      flex-direction: column;
    }

    .info-label {
      font-size: 0.8rem;
      color: #6b7280;
      margin-bottom: 2px;
    }

    .info-value {
      font-weight: 600;
      color: #1f2937;
    }

    .blood-type-badge {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
      background: #fef2f2;
      color: #991b1b;
      border: 1px solid #fecaca;
    }

    .donation-history {
      background: #f8fafc;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
    }

    .history-title {
      font-weight: 600;
      color: #374151;
      margin-bottom: 10px;
      font-size: 0.9rem;
    }

    .history-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      text-align: center;
    }

    .history-stat {
      font-size: 0.8rem;
    }

    .stat-number {
      font-weight: bold;
      color: #dc2626;
      display: block;
    }

    .stat-label {
      color: #6b7280;
    }

    .donor-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }

    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.85rem;
    }

    .btn-primary {
      background: linear-gradient(135deg, #dc2626, #ef4444);
      color: white;
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #b91c1c, #dc2626);
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: #f8fafc;
      color: #374151;
      border: 1px solid #e5e7eb;
    }

    .btn-secondary:hover {
      background: #f1f5f9;
      border-color: #cbd5e1;
    }

    .btn-success {
      background: linear-gradient(135deg, #059669, #10b981);
      color: white;
    }

    .btn-success:hover {
      background: linear-gradient(135deg, #047857, #059669);
    }

    .appointments-calendar {
      background: #f8fafc;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .calendar-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #1f2937;
    }

    .calendar-nav {
      display: flex;
      gap: 10px;
    }

    .nav-btn {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
    }

    .nav-btn:hover {
      background: #2563eb;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
    }

    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .calendar-day.header {
      font-weight: 600;
      color: #6b7280;
      cursor: default;
    }

    .calendar-day.today {
      background: #dc2626;
      color: white;
    }

    .calendar-day.has-appointments {
      background: #dbeafe;
      color: #1e40af;
      font-weight: 600;
    }

    .calendar-day:hover:not(.header) {
      background: #f3f4f6;
    }

    .filters-section {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;
      position: relative;
    }

    .filters-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(135deg, #7c3aed, #8b5cf6);
      border-radius: 12px 12px 0 0;
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal.show {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 12px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #e5e7eb;
    }

    .modal-title {
      font-size: 1.3rem;
      font-weight: 600;
      color: #374151;
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #6b7280;
    }

    .close-btn:hover {
      color: #dc2626;
    }

    .success-message {
      display: none;
      background: linear-gradient(135deg, #d1fae5, #a7f3d0);
      border: 2px solid #10b981;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
      color: #065f46;
      font-weight: 600;
      animation: slideDown 0.3s ease;
    }

    .success-message.show {
      display: block;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 768px) {
      .container {
        margin: 10px;
        border-radius: 16px;
      }

      .header {
        padding: 20px;
      }

      .header h1 {
        font-size: 1.8rem;
      }

      .form-container {
        padding: 20px;
      }

      .dashboard-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .form-grid {
        grid-template-columns: 1fr;
      }

      .donors-grid {
        grid-template-columns: 1fr;
      }

      .tabs-nav {
        flex-direction: column;
      }

      .calendar-grid {
        font-size: 0.8rem;
      }

      .actions-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <a href="index.html" class="back-button">
    ‚Üê Volver al Men√∫
  </a>

  <div class="container">
    <div class="header">
      <h1>üë• Gesti√≥n de Donantes</h1>
      <p>Sistema Bludee - Registro y Seguimiento de Donantes</p>
    </div>

    <div class="breadcrumb">
      <a href="index.html">üóÉÔ∏è Bludee</a> / 
      <a href="index.html">Inventario y Recepci√≥n</a> / 
      <span>Gesti√≥n de Donantes</span>
    </div>

    <div class="form-container">
      <!-- Dashboard de Resumen -->
      <div class="dashboard-grid">
        <div class="dashboard-card card-total">
          <div class="dashboard-icon">üë•</div>
          <div class="dashboard-number dashboard-total" id="total-donors">1,245</div>
          <div class="dashboard-label">Total Donantes</div>
        </div>

        <div class="dashboard-card card-active">
          <div class="dashboard-icon">‚úÖ</div>
          <div class="dashboard-number dashboard-active" id="active-donors">987</div>
          <div class="dashboard-label">Activos</div>
        </div>

        <div class="dashboard-card card-eligible">
          <div class="dashboard-icon">ü©∏</div>
          <div class="dashboard-number dashboard-eligible" id="eligible-donors">654</div>
          <div class="dashboard-label">Elegibles Hoy</div>
        </div>

        <div class="dashboard-card card-appointments">
          <div class="dashboard-icon">üìÖ</div>
          <div class="dashboard-number dashboard-appointments" id="appointments-today">12</div>
          <div class="dashboard-label">Citas Hoy</div>
        </div>

        <div class="dashboard-card card-frequent">
          <div class="dashboard-icon">‚≠ê</div>
          <div class="dashboard-number dashboard-frequent" id="frequent-donors">234</div>
          <div class="dashboard-label">Frecuentes</div>
        </div>

        <div class="dashboard-card card-new">
          <div class="dashboard-icon">üÜï</div>
          <div class="dashboard-number dashboard-new" id="new-donors">45</div>
          <div class="dashboard-label">Nuevos (30 d√≠as)</div>
        </div>
      </div>

      <!-- Acciones R√°pidas -->
      <div class="quick-actions">
        <h2 class="section-title">
          <span class="section-icon">‚ö°</span>
          Acciones R√°pidas
        </h2>
        <div class="actions-grid">
          <button class="action-btn" onclick="showNewDonorModal()">
            <span class="icon">‚ûï</span>
            Registrar Nuevo Donante
          </button>
          <button class="action-btn" onclick="showAppointmentModal()">
            <span class="icon">üìÖ</span>
            Programar Cita
          </button>
          <button class="action-btn" onclick="showEligibleDonors()">
            <span class="icon">ü©∏</span>
            Ver Donantes Elegibles
          </button>
          <button class="action-btn" onclick="sendReminders()">
            <span class="icon">üìß</span>
            Enviar Recordatorios
          </button>
        </div>
      </div>

      <!-- Pesta√±as Principales -->
      <div class="tabs-container">
        <div class="tabs-nav">
          <button class="tab-btn active" onclick="showTab('donors')">üë• Lista de Donantes</button>
          <button class="tab-btn" onclick="showTab('calendar')">üìÖ Calendario</button>
          <button class="tab-btn" onclick="showTab('analytics')">üìä An√°lisis</button>
          <button class="tab-btn" onclick="showTab('campaigns')">üì¢ Campa√±as</button>
        </div>

        <!-- Pesta√±a: Lista de Donantes -->
        <div class="tab-content active" id="donors-tab">
          <!-- Filtros -->
          <div class="filters-section">
            <h3 class="section-title">
              <span class="section-icon">üîç</span>
              Filtros de B√∫squeda
            </h3>
            
            <div class="form-grid">
              <div class="form-group">
                <label for="blood_type_filter">ü©∏ Tipo de Sangre</label>
                <select id="blood_type_filter" onchange="applyFilters()">
                  <option value="">Todos</option>
                  <option value="O+">O+</option>
                  <option value="O-">O-</option>
                  <option value="A+">A+</option>
                  <option value="A-">A-</option>
                  <option value="B+">B+</option>
                  <option value="B-">B-</option>
                  <option value="AB+">AB+</option>
                  <option value="AB-">AB-</option>
                </select>
              </div>

              <div class="form-group">
                <label for="status_filter">üìä Estado</label>
                <select id="status_filter" onchange="applyFilters()">
                  <option value="">Todos</option>
                  <option value="active">Activo</option>
                  <option value="inactive">Inactivo</option>
                  <option value="deferred">Diferido</option>
                  <option value="ineligible">No Elegible</option>
                </select>
              </div>

              <div class="form-group">
                <label for="frequency_filter">‚≠ê Frecuencia</label>
                <select id="frequency_filter" onchange="applyFilters()">
                  <option value="">Todos</option>
                  <option value="frequent">Frecuente (5+ donaciones)</option>
                  <option value="regular">Regular (2-4 donaciones)</option>
                  <option value="new">Nuevo (0-1 donaciones)</option>
                </select>
              </div>

              <div class="form-group">
                <label for="location_filter">üìç Ubicaci√≥n</label>
                <select id="location_filter" onchange="applyFilters()">
                  <option value="">Todas</option>
                  <option value="San Juan">San Juan</option>
                  <option value="Bayam√≥n">Bayam√≥n</option>
                  <option value="Carolina">Carolina</option>
                  <option value="Ponce">Ponce</option>
                  <option value="Caguas">Caguas</option>
                </select>
              </div>

              <div class="search-bar">
                <span class="search-icon">üîç</span>
                <input type="text" id="donor-search" placeholder="Buscar por nombre, ID, tel√©fono o email..." oninput="applyFilters()">
              </div>
            </div>
          </div>

          <!-- Lista de Donantes -->
          <div class="donors-grid" id="donors-grid">
            <!-- Donante Activo -->
            <div class="donor-card donor-active" data-blood="O+" data-status="active" data-frequency="frequent" data-location="San Juan">
              <div class="donor-header">
                <div>
                  <div class="donor-name">Mar√≠a Elena Rodr√≠guez</div>
                  <div class="donor-id">ID: DON-2023-001</div>
                </div>
                <div class="donor-status status-active">Activo</div>
              </div>

              <div class="donor-info">
                <div class="info-item">
                  <div class="info-label">Tipo de Sangre</div>
                  <div class="info-value">
                    <span class="blood-type-badge">O+</span>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-label">Edad</div>
                  <div class="info-value">34 a√±os</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Tel√©fono</div>
                  <div class="info-value">(787) 555-0123</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Ubicaci√≥n</div>
                  <div class="info-value">San Juan</div>
                </div>
                <div class="info-item">
                  <div class="info-label">√öltima Donaci√≥n</div>
                  <div class="info-value">15/05/2025</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Pr√≥xima Elegible</div>
                  <div class="info-value" style="color: #059669; font-weight: bold;">10/07/2025</div>
                </div>
              </div>

              <div class="donation-history">
                <div class="history-title">üìà Historial de Donaciones</div>
                <div class="history-stats">
                  <div class="history-stat">
                    <span class="stat-number">8</span>
                    <span class="stat-label">Total</span>
                  </div>
                  <div class="history-stat">
                    <span class="stat-number">3</span>
                    <span class="stat-label">Este A√±o</span>
                  </div>
                  <div class="history-stat">
                    <span class="stat-number">56</span>
                    <span class="stat-label">D√≠as Resto</span>
                  </div>
                </div>
              </div>

              <div class="donor-actions">
                <button class="btn btn-secondary" onclick="viewDonorDetails('DON-2023-001')">üëÅÔ∏è Ver</button>
                <button class="btn btn-secondary" onclick="contactDonor('DON-2023-001')">üìû Contactar</button>
                <button class="btn btn-primary" onclick="scheduleDonation('DON-2023-001')">üìÖ Programar</button>
              </div>
            </div>

            <!-- Donante Diferido -->
            <div class="donor-card donor-deferred" data-blood="A-" data-status="deferred" data-frequency="regular" data-location="Bayam√≥n">
              <div class="donor-header">
                <div>
                  <div class="donor-name">Carlos Alberto Jim√©nez</div>
                  <div class="donor-id">ID: DON-2024-156</div>
                </div>
                <div class="donor-status status-deferred">Diferido</div>
              </div>

              <div class="donor-info">
                <div class="info-item">
                  <div class="info-label">Tipo de Sangre</div>
                  <div class="info-value">
                    <span class="blood-type-badge">A-</span>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-label">Edad</div>
                  <div class="info-value">42 a√±os</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Tel√©fono</div>
                  <div class="info-value">(787) 555-0456</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Ubicaci√≥n</div>
                  <div class="info-value">Bayam√≥n</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Raz√≥n Diferimiento</div>
                  <div class="info-value" style="color: #f59e0b; font-weight: bold;">Viaje Reciente</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Elegible Desde</div>
                  <div class="info-value">25/08/2025</div>
                </div>
              </div>

              <div class="donation-history">
                <div class="history-title">üìà Historial de Donaciones</div>
                <div class="history-stats">
                  <div class="history-stat">
                    <span class="stat-number">4</span>
                    <span class="stat-label">Total</span>
                  </div>
                  <div class="history-stat">
                    <span class="stat-number">1</span>
                    <span class="stat-label">Este A√±o</span>
                  </div>
                  <div class="history-stat">
                    <span class="stat-number">39</span>
                    <span class="stat-label">D√≠as Resto</span>
                  </div>
                </div>
              </div>

              <div class="donor-actions">
                <button class="btn btn-secondary" onclick="viewDonorDetails('DON-2024-156')">üëÅÔ∏è Ver</button>
                <button class="btn btn-secondary" onclick="reviewDeferral('DON-2024-156')">üîç Revisar</button>
                <button class="btn btn-secondary" onclick="contactDonor('DON-2024-156')">üìû Contactar</button>
              </div>
            </div>

            <!-- Donante Nuevo -->
            <div class="donor-card donor-active" data-blood="B+" data-status="active" data-frequency="new" data-location="Carolina">
              <div class="donor-header">
                <div>
                  <div class="donor-name">Ana Isabel Torres</div>
                  <div class="donor-id">ID: DON-2025-089</div>
                </div>
                <div class="donor-status status-active">Activo</div>
              </div>

              <div class="donor-info">
                <div class="info-item">
                  <div class="info-label">Tipo de Sangre</div>
                  <div class="info-value">
                    <span class="blood-type-badge">B+</span>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-label">Edad</div>
                  <div class="info-value">28 a√±os</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Tel√©fono</div>
                  <div class="info-value">(787) 555-0789</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Ubicaci√≥n</div>
                  <div class="info-value">Carolina</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Primera Donaci√≥n</div>
                  <div class="info-value">10/06/2025</div>
                </div>
                <div class="info-item">
                  <div class="info-label">Pr√≥xima Elegible</div>
                  <div class="info-value" style="color: #059669; font-weight: bold;">05/08/2025</div>
                </div>
              </div>

              <div class="donation-history">
                <div class="history-title">üìà Historial de Donaciones</div>
                <div class="history-stats">
                  <div class="history-stat">
                    <span class="stat-number">1</span>
                    <span class="stat-label">Total</span>
                  </div>
                  <div class="history-stat">
                    <span class="stat-number">1</span>
                    <span class="stat-label">Este A√±o</span>
                  </div>
                  <div class="history-stat">
                    <span class="stat-number">20</span>
                    <span class="stat-label">D√≠as Resto</span>
                  </div>
                </div>
              </div>

              <div class="donor-actions">
                <button class="btn btn-secondary" onclick="viewDonorDetails('DON-2025-089')">üëÅÔ∏è Ver</button>
                <button class="btn btn-success" onclick="followUpNewDonor('DON-2025-089')">üìù Seguimiento</button>
                <button class="btn btn-primary" onclick="scheduleDonation('DON-2025-089')">üìÖ Programar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Pesta√±a: Calendario -->
        <div class="tab-content" id="calendar-tab">
          <div class="appointments-calendar">
            <div class="calendar-header">
              <div class="calendar-title" id="calendar-month">Julio 2025</div>
              <div class="calendar-nav">
                <button class="nav-btn" onclick="previousMonth()">‚óÄ Anterior</button>
                <button class="nav-btn" onclick="nextMonth()">Siguiente ‚ñ∂</button>
              </div>
            </div>
            
            <div class="calendar-grid" id="calendar-grid">
              <!-- Se generar√° din√°micamente -->
            </div>
          </div>

          <!-- Lista de Citas del D√≠a -->
          <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
            <h3 style="margin-bottom: 20px; color: #1f2937;">üìÖ Citas de Hoy (16 de Julio)</h3>
            <div style="display: grid; gap: 15px;">
              <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #f8fafc; border-radius: 8px; border-left: 4px solid #059669;">
                <div>
                  <div style="font-weight: 600;">09:00 AM - Mar√≠a Elena Rodr√≠guez</div>
                  <div style="color: #6b7280; font-size: 0.9rem;">Tipo O+ ‚Ä¢ Primera cita de seguimiento</div>
                </div>
                <div style="display: flex; gap: 10px;">
                  <button class="btn btn-success">‚úÖ Confirmar</button>
                  <button class="btn btn-secondary">üìû Llamar</button>
                </div>
              </div>

              <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #f8fafc; border-radius: 8px; border-left: 4px solid #2563eb;">
                <div>
                  <div style="font-weight: 600;">02:30 PM - Roberto Garc√≠a L√≥pez</div>
                  <div style="color: #6b7280; font-size: 0.9rem;">Tipo AB- ‚Ä¢ Donante frecuente</div>
                </div>
                <div style="display: flex; gap: 10px;">
                  <button class="btn btn-success">‚úÖ Confirmar</button>
                  <button class="btn btn-secondary">üìû Llamar</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pesta√±a: An√°lisis -->
        <div class="tab-content" id="analytics-tab">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <!-- Distribuci√≥n por Tipo de Sangre -->
            <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
              <h3 style="margin-bottom: 20px; color: #1f2937;">ü©∏ Distribuci√≥n por Tipo de Sangre</h3>
              <div style="display: grid; gap: 10px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>O+ (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">387 (31%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>A+ (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">298 (24%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>B+ (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">156 (12%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>O- (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">124 (10%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>A- (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">98 (8%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>AB+ (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">89 (7%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>B- (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">67 (5%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span>AB- (Donantes)</span>
                  <span style="font-weight: bold; color: #dc2626;">36 (3%)</span>
                </div>
              </div>
            </div>

            <!-- Tendencias de Donaci√≥n -->
            <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
              <h3 style="margin-bottom: 20px; color: #1f2937;">üìà Tendencias de Donaci√≥n</h3>
              <div style="text-align: center; background: #f8fafc; padding: 20px; border-radius: 8px;">
                <p style="color: #6b7280; margin-bottom: 10px;">Gr√°fico de tendencias mensual</p>
                <p style="font-weight: bold; color: #059669;">üìä +15% vs mes anterior</p>
                <p style="font-size: 0.9rem; color: #6b7280; margin-top: 10px;">Promedio diario: 12 donaciones</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Pesta√±a: Campa√±as -->
        <div class="tab-content" id="campaigns-tab">
          <div style="display: grid; gap: 20px;">
            <!-- Campa√±as Activas -->
            <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
              <h3 style="margin-bottom: 20px; color: #1f2937;">üì¢ Campa√±as Activas</h3>
              
              <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 20px; margin-bottom: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
                  <h4 style="color: #1f2937;">Campa√±a Verano 2025</h4>
                  <span style="background: #d1fae5; color: #065f46; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: 600;">Activa</span>
                </div>
                <p style="color: #6b7280; margin-bottom: 15px;">Campa√±a especial para aumentar donaciones durante √©poca vacacional</p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-bottom: 15px;">
                  <div style="text-align: center;">
                    <div style="font-weight: bold; color: #dc2626;">234</div>
                    <div style="font-size: 0.8rem; color: #6b7280;">Contactados</div>
                  </div>
                  <div style="text-align: center;">
                    <div style="font-weight: bold; color: #059669;">89</div>
                    <div style="font-size: 0.8rem; color: #6b7280;">Citas Programadas</div>
                  </div>
                  <div style="text-align: center;">
                    <div style="font-weight: bold; color: #2563eb;">67</div>
                    <div style="font-size: 0.8rem; color: #6b7280;">Donaciones</div>
                  </div>
                </div>
                <div style="display: flex; gap: 10px;">
                  <button class="btn btn-primary">üìä Ver Detalles</button>
                  <button class="btn btn-secondary">‚úèÔ∏è Editar</button>
                </div>
              </div>

              <button class="btn btn-success" onclick="createCampaign()">‚ûï Nueva Campa√±a</button>
            </div>

            <!-- Plantillas de Mensajes -->
            <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
              <h3 style="margin-bottom: 20px; color: #1f2937;">üìß Plantillas de Mensajes</h3>
              <div style="display: grid; gap: 15px;">
                <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 15px;">
                  <h4 style="margin-bottom: 10px;">Recordatorio de Cita</h4>
                  <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 10px;">Para confirmar citas programadas</p>
                  <button class="btn btn-secondary">üìù Editar Plantilla</button>
                </div>
                <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 15px;">
                  <h4 style="margin-bottom: 10px;">Invitaci√≥n a Donar</h4>
                  <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 10px;">Para donantes elegibles</p>
                  <button class="btn btn-secondary">üìù Editar Plantilla</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para Nuevo Donante -->
  <div class="modal" id="new-donor-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">üë• Registrar Nuevo Donante</h3>
        <button class="close-btn" onclick="closeModal('new-donor-modal')">&times;</button>
      </div>
      
      <form id="new-donor-form">
        <div class="form-grid">
          <div class="form-group">
            <label for="donor-name">üë§ Nombre Completo <span class="required">*</span></label>
            <input type="text" id="donor-name" required>
          </div>

          <div class="form-group">
            <label for="donor-id">üÜî C√©dula/Pasaporte <span class="required">*</span></label>
            <input type="text" id="donor-id" required>
          </div>

          <div class="form-group">
            <label for="donor-birthdate">üìÖ Fecha de Nacimiento <span class="required">*</span></label>
            <input type="date" id="donor-birthdate" required>
          </div>

          <div class="form-group">
            <label for="donor-phone">üìû Tel√©fono <span class="required">*</span></label>
            <input type="tel" id="donor-phone" required>
          </div>

          <div class="form-group">
            <label for="donor-email">üìß Email</label>
            <input type="email" id="donor-email">
          </div>

          <div class="form-group">
            <label for="donor-blood-type">ü©∏ Tipo de Sangre <span class="required">*</span></label>
            <select id="donor-blood-type" required>
              <option value="">Seleccionar...</option>
              <option value="O+">O+</option>
              <option value="O-">O-</option>
              <option value="A+">A+</option>
              <option value="A-">A-</option>
              <option value="B+">B+</option>
              <option value="B-">B-</option>
              <option value="AB+">AB+</option>
              <option value="AB-">AB-</option>
            </select>
          </div>

          <div class="form-group full-width">
            <label for="donor-address">üìç Direcci√≥n</label>
            <textarea id="donor-address" rows="3"></textarea>
          </div>

          <div class="form-group full-width">
            <label for="donor-medical-history">üè• Historial M√©dico Relevante</label>
            <textarea id="donor-medical-history" rows="3" placeholder="Alergias, medicamentos, condiciones m√©dicas..."></textarea>
          </div>
        </div>

        <div style="display: flex; gap: 15px; justify-content: flex-end; margin-top: 25px;">
          <button type="button" class="btn btn-secondary" onclick="closeModal('new-donor-modal')">
            ‚ùå Cancelar
          </button>
          <button type="submit" class="btn btn-primary">
            ‚úÖ Registrar Donante
          </button>
        </div>
      </form>

      <div class="success-message" id="donor-success-message">
        ‚úÖ Donante registrado exitosamente
      </div>
    </div>
  </div>

  <script>
    let currentMonth = 6; // Julio (0-based)
    let currentYear = 2025;
    let currentTab = 'donors';

    // Datos simulados
    const donorsData = [
      {
        id: 'DON-2023-001',
        name: 'Mar√≠a Elena Rodr√≠guez',
        bloodType: 'O+',
        status: 'active',
        frequency: 'frequent',
        location: 'San Juan',
        phone: '(787) 555-0123',
        totalDonations: 8,
        yearDonations: 3,
        lastDonation: '2025-05-15',
        nextEligible: '2025-07-10'
      },
      {
        id: 'DON-2024-156',
        name: 'Carlos Alberto Jim√©nez',
        bloodType: 'A-',
        status: 'deferred',
        frequency: 'regular',
        location: 'Bayam√≥n',
        phone: '(787) 555-0456',
        totalDonations: 4,
        yearDonations: 1,
        lastDonation: '2025-02-10',
        deferralReason: 'Viaje Reciente'
      },
      {
        id: 'DON-2025-089',
        name: 'Ana Isabel Torres',
        bloodType: 'B+',
        status: 'active',
        frequency: 'new',
        location: 'Carolina',
        phone: '(787) 555-0789',
        totalDonations: 1,
        yearDonations: 1,
        lastDonation: '2025-06-10',
        nextEligible: '2025-08-05'
      }
    ];

    // Inicializar
    document.addEventListener('DOMContentLoaded', function() {
      generateCalendar();
      setupEventListeners();
    });

    function setupEventListeners() {
      document.getElementById('new-donor-form').addEventListener('submit', handleNewDonorSubmit);
    }

    function showTab(tabName) {
      currentTab = tabName;
      
      // Actualizar botones
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      // Mostrar contenido
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      document.getElementById(tabName + '-tab').classList.add('active');
    }

    function showNewDonorModal() {
      document.getElementById('new-donor-modal').classList.add('show');
    }

    function showAppointmentModal() {
      alert('M√≥dulo de Programaci√≥n de Citas\n\nüìÖ Caracter√≠sticas:\n‚Ä¢ Selecci√≥n de fecha y hora\n‚Ä¢ Asignaci√≥n de donante\n‚Ä¢ Recordatorios autom√°ticos\n‚Ä¢ Confirmaci√≥n de cita\n\nüöß En desarrollo...');
    }

    function showEligibleDonors() {
      alert('Filtrando donantes elegibles para donaci√≥n hoy...\n\n‚úÖ Se mostrar√°n solo los donantes que:\n‚Ä¢ Han cumplido el per√≠odo de espera\n‚Ä¢ No tienen diferimientos activos\n‚Ä¢ Est√°n en estado activo\n\nüîç Aplicando filtros...');
    }

    function sendReminders() {
      alert('Enviando Recordatorios\n\nüìß Se enviar√°n recordatorios a:\n‚Ä¢ 12 donantes con citas ma√±ana\n‚Ä¢ 23 donantes elegibles para donar\n‚Ä¢ 8 donantes con citas pendientes de confirmar\n\n‚úÖ Recordatorios programados');
    }

    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('show');
      if (modalId === 'new-donor-modal') {
        document.getElementById('new-donor-form').reset();
        document.getElementById('donor-success-message').classList.remove('show');
      }
    }

    function handleNewDonorSubmit(e) {
      e.preventDefault();
      
      const formData = {
        name: document.getElementById('donor-name').value,
        id: document.getElementById('donor-id').value,
        birthdate: document.getElementById('donor-birthdate').value,
        phone: document.getElementById('donor-phone').value,
        email: document.getElementById('donor-email').value,
        bloodType: document.getElementById('donor-blood-type').value,
        address: document.getElementById('donor-address').value,
        medicalHistory: document.getElementById('donor-medical-history').value
      };

      // Validaciones b√°sicas
      if (!formData.name || !formData.id || !formData.birthdate || !formData.phone || !formData.bloodType) {
        alert('Por favor completa todos los campos obligatorios marcados con *');
        return;
      }

      // Simular registro
      const successMessage = document.getElementById('donor-success-message');
      successMessage.classList.add('show');
      
      setTimeout(() => {
        closeModal('new-donor-modal');
        alert(`Donante ${formData.name} registrado exitosamente.\n\nID asignado: DON-2025-${Math.floor(Math.random() * 1000).toString().padStart(3, '0')}\n\nSe ha enviado un email de bienvenida.`);
      }, 2000);
    }

    function applyFilters() {
      // Implementar filtrado de donantes
      const bloodTypeFilter = document.getElementById('blood_type_filter').value;
      const statusFilter = document.getElementById('status_filter').value;
      const frequencyFilter = document.getElementById('frequency_filter').value;
      const locationFilter = document.getElementById('location_filter').value;
      const searchTerm = document.getElementById('donor-search').value.toLowerCase();
      
      const donorCards = document.querySelectorAll('.donor-card');
      let visibleCount = 0;
      
      donorCards.forEach(card => {
        const bloodType = card.getAttribute('data-blood');
        const status = card.getAttribute('data-status');
        const frequency = card.getAttribute('data-frequency');
        const location = card.getAttribute('data-location');
        const cardText = card.textContent.toLowerCase();
        
        let show = true;
        
        if (bloodTypeFilter && bloodType !== bloodTypeFilter) show = false;
        if (statusFilter && status !== statusFilter) show = false;
        if (frequencyFilter && frequency !== frequencyFilter) show = false;
        if (locationFilter && location !== locationFilter) show = false;
        if (searchTerm && !cardText.includes(searchTerm)) show = false;
        
        card.style.display = show ? 'block' : 'none';
        if (show) visibleCount++;
      });
      
      console.log(`Mostrando ${visibleCount} donantes`);
    }

    function viewDonorDetails(donorId) {
      const donor = donorsData.find(d => d.id === donorId);
      if (donor) {
        alert(`Detalles del Donante ${donorId}\n\n` +
              `Nombre: ${donor.name}\n` +
              `Tipo de Sangre: ${donor.bloodType}\n` +
              `Estado: ${getStatusLabel(donor.status)}\n` +
              `Tel√©fono: ${donor.phone}\n` +
              `Ubicaci√≥n: ${donor.location}\n` +
              `Total Donaciones: ${donor.totalDonations}\n` +
              `Donaciones este a√±o: ${donor.yearDonations}\n` +
              `√öltima Donaci√≥n: ${formatDate(donor.lastDonation)}\n` +
              (donor.nextEligible ? `Pr√≥xima Elegible: ${formatDate(donor.nextEligible)}` : '') +
              (donor.deferralReason ? `\nRaz√≥n Diferimiento: ${donor.deferralReason}` : ''));
      }
    }

    function contactDonor(donorId) {
      const donor = donorsData.find(d => d.id === donorId);
      if (donor) {
        alert(`Contactar a ${donor.name}\n\nüìû ${donor.phone}\n\n¬øQu√© acci√≥n deseas realizar?\n‚Ä¢ Llamar directamente\n‚Ä¢ Enviar SMS\n‚Ä¢ Enviar Email\n‚Ä¢ Programar llamada\n\n(Funci√≥n simulada)`);
      }
    }

    function scheduleDonation(donorId) {
      alert(`Programar Donaci√≥n para ${donorId}\n\nRedirigiendo al calendario de citas...\n\nüìÖ Se abrir√° el m√≥dulo de programaci√≥n con:\n‚Ä¢ Donante preseleccionado\n‚Ä¢ Fechas disponibles\n‚Ä¢ Slots de tiempo\n‚Ä¢ Confirmaci√≥n autom√°tica`);
    }

    function reviewDeferral(donorId) {
      alert(`Revisar Diferimiento - ${donorId}\n\nüîç Opciones disponibles:\n‚Ä¢ Ver raz√≥n completa del diferimiento\n‚Ä¢ Actualizar estado m√©dico\n‚Ä¢ Programar nueva evaluaci√≥n\n‚Ä¢ Levantar diferimiento si procede\n\nüìã Abriendo expediente m√©dico...`);
    }

    function followUpNewDonor(donorId) {
      alert(`Seguimiento de Donante Nuevo - ${donorId}\n\nüìù Acciones de seguimiento:\n‚Ä¢ Verificar experiencia de primera donaci√≥n\n‚Ä¢ Programar segunda cita\n‚Ä¢ Enviar material educativo\n‚Ä¢ Agregar a programa de fidelizaci√≥n\n\n‚úÖ Iniciando protocolo de seguimiento...`);
    }

    function generateCalendar() {
      const calendar = document.getElementById('calendar-grid');
      const monthNames = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                         'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
      
      document.getElementById('calendar-month').textContent = `${monthNames[currentMonth]} ${currentYear}`;
      
      calendar.innerHTML = '';
      
      // Headers
      const dayHeaders = ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'];
      dayHeaders.forEach(day => {
        const dayElement = document.createElement('div');
        dayElement.className = 'calendar-day header';
        dayElement.textContent = day;
        calendar.appendChild(dayElement);
      });
      
      // D√≠as del mes
      const firstDay = new Date(currentYear, currentMonth, 1).getDay();
      const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
      const today = new Date();
      
      // D√≠as vac√≠os al inicio
      for (let i = 0; i < firstDay; i++) {
        const emptyDay = document.createElement('div');
        emptyDay.className = 'calendar-day';
        calendar.appendChild(emptyDay);
      }
      
      // D√≠as del mes
      for (let day = 1; day <= daysInMonth; day++) {
        const dayElement = document.createElement('div');
        dayElement.className = 'calendar-day';
        dayElement.textContent = day;
        
        if (today.getDate() === day && today.getMonth() === currentMonth && today.getFullYear() === currentYear) {
          dayElement.classList.add('today');
        }
        
        // Simular citas (d√≠as 16, 18, 22, 25)
        if ([16, 18, 22, 25].includes(day)) {
          dayElement.classList.add('has-appointments');
        }
        
        calendar.appendChild(dayElement);
      }
    }

    function previousMonth() {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
      generateCalendar();
    }

    function nextMonth() {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
      generateCalendar();
    }

    function createCampaign() {
      alert('Crear Nueva Campa√±a\n\nüì¢ Asistente de campa√±a:\n‚Ä¢ Definir objetivo (tipo de sangre, cantidad)\n‚Ä¢ Seleccionar audiencia target\n‚Ä¢ Programar mensajes autom√°ticos\n‚Ä¢ Configurar m√©tricas de seguimiento\n\nüöß M√≥dulo en desarrollo...');
    }

    function getStatusLabel(status) {
      const labels = {
        'active': 'Activo',
        'inactive': 'Inactivo',
        'deferred': 'Diferido',
        'ineligible': 'No Elegible'
      };
      return labels[status] || status;
    }

    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('es-PR');
    }

    // Cerrar modales al hacer click fuera
    document.addEventListener('click', function(e) {
      if (e.target.classList.contains('modal')) {
        e.target.classList.remove('show');
      }
    });
  </script>
</body>
</html>
